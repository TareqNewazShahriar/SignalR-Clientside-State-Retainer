<script>
	$(function()
	{
		notificationStateManager({
			signalrHubName: 'NotificationHub',
			recordContentSelector: '.record',
			counterSelector: '#countNotification',
			getListMethodName: 'notificationList',
			getRecordMethodName: 'getNotified',
			dateTimeFieldName: 'CreationDate',
			signOutButtonSelector: '#signout',
			notificationOpenerSelector: '#countNotification',
			/* optinoal */
			//addAt: 'top', // add new notification at: 'top'/'bottom'
			notificationPanelSelector: '.record-container',
			onSignalrInitialisation: function() /* calls after signalr initialisation. signalr takes much time to initiate */
			{
				var btn = $('#notify');
				$(btn).removeAttr('disabled');
				var txt = $(btn).html();
				if(txt.indexOf('(')>0)
					$(btn).html(txt.substr(0, txt.indexOf('(')));
			},
			onGetList: function(list) { console.log('Total: ' + list.length) },
			onRecordArrival: function(obj) { console.log('Log ID: ' + obj.Id) }
		});
	});
</script>

<div class="nofity-container">
	<span id="countNotification" title="See notifications">-</span>
	<div class="record-container">
		<a class="record" target="_blank" href="/home/LogDetails/[[Id]]">
			<div class="summary">[[Summary]]</div>
			<div class="first">[[User]]</div>
			<div class="second">[[CreationDate]]</div>
		</a>
	</div>
</div>
